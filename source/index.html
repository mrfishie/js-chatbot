<!DOCTYPE html>

<html>
<head>
    <title>Bot Tester</title>
    
    <script src="http://code.jquery.com/jquery-2.1.0.min.js"></script>
    <script src="bots.js"></script>
    <script src="srcbot.js"></script>
    <script>        
        $(function() {
            var input = $("input");
            $("form").submit(function(e) {
                var r = Bots.sendMessage("Image Parsing Bot", input.val(), { "USER": "mrfishie" });
                $("<p style='display:none;'></p>").appendTo("div").text("[mrfishie] " + input.val()).fadeIn("fast", toBottom);
                input.val("");
                
                setTimeout(function() {
                    for (var i = 0; i < r.length; i++) {
                        $("<p style='display:none;'></p>").appendTo("div").text(r[i]).fadeIn("fast", toBottom);
                    }
                }, Math.random() * 1000);
                                
                e.preventDefault();
                return false;
            });
        });
        
        function toBottom() {
            $("div").scrollTop($("div").get("scrollHeight"));
        }
    </script>
    
    <style>
        div {
            width:500px;
            height:500px;
            border:solid 1px black;
            padding:5px;
            overflow:auto;
        }
        input {
            width:455px;
        }
        button {
            width:50px;
        }
        p {
            margin:0;
            padding:0;
        }
    </style>
</head>

<body>

<div></div>
<form method="get" action="#">
    <input type="text" /><button type="submit">Go</button>
</form>

</body>
</html>
